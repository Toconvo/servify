server:
  host: 0.0.0.0
  port: 8080

database:
  host: localhost
  port: 5432
  user: postgres
  password: password
  name: servify
  max_open_conns: 100
  max_idle_conns: 10
  conn_max_lifetime: 3600s

redis:
  host: localhost
  port: 6379
  password: ""
  db: 0
  pool_size: 10
  min_idle_conns: 5

webrtc:
  stun_server: "stun:stun.l.google.com:19302"

ai:
  openai:
    api_key: ""
    base_url: "https://api.openai.com/v1"
    model: "gpt-3.5-turbo"
    temperature: 0.7
    max_tokens: 1000
    timeout: 30s

jwt:
  secret: "default-secret-key"
  expires_in: "24h"

portal:
  brand_name: "Servify"
  logo_url: ""
  primary_color: "#4299e1"
  secondary_color: "#764ba2"
  default_locale: "zh-CN"
  locales: ["zh-CN","en-US"]
  support_email: ""

log:
  level: "info"
  format: "json"
  output: "stdout" # stdout, file, both
  file_path: "./logs/servify.log"
  max_size: 100
  max_age: 7
  max_backups: 3
  compress: true

security:
  cors:
    enabled: true
    allowed_origins: ["*"]
    allowed_methods: ["GET","POST","PUT","DELETE"]
    allowed_headers: ["*"]
  rbac:
    enabled: true
    roles:
      admin: ["*"]
      agent:
        - "tickets.read"
        - "tickets.write"
        - "customers.read"
        - "agents.read"
        - "knowledge.read"
        - "assist.read"
        - "gamification.read"
        - "custom_fields.read"
        - "session_transfer.read"
        - "session_transfer.write"
        - "satisfaction.read"
        - "satisfaction.write"
        - "workspace.read"
        - "macros.read"
        - "integrations.read"
  rate_limiting:
    enabled: true
    requests_per_minute: 60
    burst: 10
    key_header: ""          # e.g. "X-API-Key" or "X-Forwarded-For"
    whitelist_ips: []
    whitelist_keys: []
    paths:
      - enabled: true
        prefix: "/api/v1/ai/query"
        requests_per_minute: 30
        burst: 10
      - enabled: true
        prefix: "/api/v1/metrics/ingest"
        requests_per_minute: 120
        burst: 30
      - enabled: true
        prefix: "/api/"
        requests_per_minute: 60
        burst: 15
