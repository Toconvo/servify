# WeKnora 集成环境变量配置
# 复制此文件为 .env 并填入实际值

# ===== 基础服务配置 =====
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# ===== 数据库配置 =====
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=servify

# ===== Redis 配置 =====
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===== OpenAI 配置 =====
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-3.5-turbo

# ===== WeKnora 配置 =====
WEKNORA_ENABLED=true
WEKNORA_BASE_URL=http://localhost:9000
WEKNORA_API_KEY=default-api-key
WEKNORA_TENANT_ID=default-tenant
WEKNORA_KB_ID=default-kb

# WeKnora 搜索配置
WEKNORA_SEARCH_LIMIT=5
WEKNORA_SCORE_THRESHOLD=0.7
WEKNORA_SEARCH_STRATEGY=hybrid

# ===== 降级策略配置 =====
FALLBACK_ENABLED=true
LEGACY_KB_ENABLED=true

# 熔断器配置
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_MAX_FAILURES=5
CIRCUIT_BREAKER_RESET_TIMEOUT=60s

# ===== 安全配置 =====
JWT_SECRET=your-jwt-secret-key-here
JWT_EXPIRES_IN=24h

# CORS 配置
CORS_ALLOWED_ORIGINS=*
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE
CORS_ALLOWED_HEADERS=*

# 速率限制
RATE_LIMIT_ENABLED=true
RATE_LIMIT_RPM=60
RATE_LIMIT_BURST=10

# ===== 日志配置 =====
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=both
LOG_FILE_PATH=./logs/servify.log

# ===== 监控配置 =====
MONITORING_ENABLED=true
METRICS_PATH=/metrics
SLOW_QUERY_THRESHOLD=1s

# ===== 文件上传配置 =====
UPLOAD_ENABLED=true
UPLOAD_MAX_SIZE=10MB
UPLOAD_PATH=./uploads
UPLOAD_AUTO_PROCESS=true

# ===== WebRTC 配置 =====
STUN_SERVER=stun:stun.l.google.com:19302

# ===== 开发环境特定配置 =====
# 是否启用调试模式
DEBUG=true

# 是否启用性能分析
PROFILING_ENABLED=false

# 是否启用请求日志
REQUEST_LOGGING=true

# ===== 生产环境配置示例 =====
# 以下配置仅在生产环境使用，开发环境请保持注释状态

# 生产数据库配置
# DB_HOST=your-production-db-host
# DB_PASSWORD=your-secure-db-password

# 生产 Redis 配置
# REDIS_HOST=your-production-redis-host
# REDIS_PASSWORD=your-redis-password

# 生产 WeKnora 配置
# WEKNORA_BASE_URL=https://your-production-weknora.com
# WEKNORA_API_KEY=your-production-api-key
# WEKNORA_TENANT_ID=your-production-tenant

# 生产安全配置
# JWT_SECRET=your-very-secure-random-secret
# CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# 生产日志配置
# LOG_LEVEL=warn
# LOG_OUTPUT=file
# LOG_FILE_PATH=/var/log/servify/app.log